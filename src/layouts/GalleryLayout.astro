---
import Layout from "./Layout.astro";
import "../styles/global.css";
import FullImageHeroSection from "../components/FullImageHeroSection.astro";

const { frontmatter } = Astro.props;

// Get all images in the gallery folder
const allImages = await Astro.glob("../assets/images/gallery/*.webp");

// Filter the images to only include the ones that match the gallery name
const images = allImages.filter(image => image.default.src.includes(frontmatter.shortTitle.toLowerCase()));

---

<Layout title={frontmatter.title} description={frontmatter.description}>
  <FullImageHeroSection id={frontmatter.shortTitle.toLowerCase()}>
    <h1>
      <span class="letter-highlight">{frontmatter.title[0]}</span>{
        frontmatter.title.slice(1)
      }
    </h1>
  </FullImageHeroSection>
  <section class="gallery">

    <div class="gallery-container">
      {
        images.map((image) => (
          <div class="gallery-item fade-in">
            <img src={image.default.src} alt="" loading="lazy" />
          </div>
        ))
      }

  </section>

  <style>
    .gallery {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem 0;
    }

    .gallery-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      grid-gap: 1rem;
      width: 100%;
      max-width: 1200px;
      padding: 0 1rem;
    }

    .gallery-item {
      width: 100%;
      height: 100%;
      overflow: hidden;
      border-radius: 0.5rem;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.2s ease-in-out;
    }

    .gallery-item img:hover {
      transform: scale(1.05);
    }

    @media (min-width: 768px) {
      .gallery-container {
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      }
    }
  </style>

</Layout>
